<!--<div class="lists-menu row">
    <div class="tab-item col-2" *ngFor="let tab of tabs">
        <a class="list-group-item justify-content-between align-items-center waves-light" [ngClass]="{'active': tab.active}" (click)="getActiveTab(tab.name)" mdbWavesEffect>
            {{tab.name}}
            <span class="badge badge-primary badge-pill">{{tab.count}}</span>
        </a>
    </div>
</div>-->

<div class="panel-book">
    <div *ngIf="filterEnable" class="filters-area">
        <a class="clear-filters" (click)="clearSortAndFilters()">
            <i class="fa fa-times-circle"></i>
        </a>
        <div class="labels-all">
            <a class="badge badge-theme" *ngFor="let label of filterLabels" (click)="removeLabelFromFilterFiltering(label.name)" [ngStyle]="{'background': label.color}">{{label.name}}</a>
        </div>
    </div>
    <div *ngIf="currentUser.role === 'admin'">
        <app-delete (emitDeleteBooks)="setAllCheckBox($emit)" [activeBooks]="activeBooksArray"></app-delete>
        <button type="button" class="btn blue rounded-circle waves-light add-book-button" routerLink="/book/add" mdbTooltip="ADD BOOK" placement="bottom" mdbWavesEffect><i class="fa fa-plus fa-lg"></i></button>
    </div>
</div>


<div class="books-list">
    <table *ngIf="(bookList | filter:searchService.getSearch())?.length > 0; else ozHref" class="table table-bordered table-responsive-md">

        <thead>
        <tr>
            <th class="pr-md-3 pr-5">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="customCheck1" [(ngModel)]="allCheckBox" (change)="toggleAllCheckBox()">
                    <label class="custom-control-label" for="customCheck1"></label>
                </div>
            </th>
            <th></th>
            <th>Title</th>
            <th>Author</th>
            <th>Count</th>
            <th>Labels</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let book of bookList | filter:searchService.getSearch()">
            <td scope="row" class="pr-md-3 pr-5">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="{{book.name}}" [(ngModel)]="book.active" (change)="toggleBookCheckBox(book)">
                    <label class="custom-control-label" for="{{book.name}}"></label>
                </div>
            </td>
            <td class="td-image">
                <img class="image" [src]="book.imageLink || '../../../assets/images/book.png'">
            </td>
            <td>

                <app-description-book [title]="book.name" [book]="book"></app-description-book>
            </td>
            <td>{{book.author}}</td>
            <td class="td-count">
                <span [ngClass]="{'green-color': book.availableCount > 1,
                        'yellow-color': book.availableCount === 1,
                        'red-color': book.availableCount === 0}">{{book.availableCount}}</span> / <span class="blue-color">{{book.allCount}}</span></td>
            <td class="td-labels">
                <div class="labels-all">
                    <a class="badge badge-theme" *ngFor="let label of book.labels" (click)="addLabelToFilterFiltering(bookList, 'labels', label)" [ngStyle]="{'background': label.color}">{{label.name}}</a>
                    <a class="badge badge-theme" *ngFor="let label of book.statuses" (click)="addLabelToFilterFiltering(bookList, 'statuses', label)" [ngStyle]="{'background': label.color}">{{label.name}}</a>
                </div>
            </td>
            <td class="actions">
                <div class="action">
                    <app-comments [book]="book"></app-comments>
                </div>
                <div class="action">
                    <app-take-book [book]="book"></app-take-book>
                </div>
                <span *ngIf="currentUser.role === 'admin'">
                    <div class="action">
                        <a routerLink="/book/edit/{{book['$key']}}" mdbTooltip="EDIT BOOK" placement="bottom">
                            <i class="fa fa-edit"></i>
                        </a>
                    </div>
                    <div class="action">
                        <a routerLink="/book/wait/{{book['$key']}}" mdbTooltip="WAITING LIST" placement="bottom">
                            <i class="fa fa-list-ol"></i>
                        </a>
                    </div>
                </span>
            </td>
        </tr>
        </tbody>
    </table>
    <ng-template #ozHref>
        <div *ngIf="bookList?.length > 0" class="search-oz">
            <a href='https://oz.by/search/?q={{searchService.getSearch()}}' target="_blank">
                <span>Search on</span>
                <img src="../../../assets/images/oz.png">
            </a>
        </div>
    </ng-template>
</div>